<Window x:Class="SCFF.GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="http://schemas.microsoft.com/winfx/2006/xaml/presentation/shell"
        xmlns:localControls="clr-namespace:SCFF.GUI.Controls"
        xmlns:local="clr-namespace:SCFF.GUI"
        Title="SCFF DirectShow Filter Ver.0.1.7"
        SnapsToDevicePixels="True"
        Background="{DynamicResource WindowBackgroundBrush}"
        Icon="Images/app.ico"
        ResizeMode="CanResizeWithGrip"
        Width="772.437"
        Height="565"
        MinWidth="280"
        MinHeight="280" 
        Loaded="OnLoaded"
        Closing="OnClosing"
        Activated="OnActivated"
        Deactivated="OnDeactivated"
        FontSize="9">
  <!-- CommandBindings -->
  <Window.CommandBindings>
    <!-- shell:SystemCommands -->
    <CommandBinding Command="{x:Static shell:SystemCommands.CloseWindowCommand}"
                    Executed="CloseWindow_Executed"/>
    <CommandBinding Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}"
                    Executed="MaximizeWindow_Executed"/>
    <CommandBinding Command="{x:Static shell:SystemCommands.MinimizeWindowCommand}"
                    Executed="MinimizeWindow_Executed"/>
    <CommandBinding Command="{x:Static shell:SystemCommands.RestoreWindowCommand}"
                    Executed="RestoreWindow_Executed"/>
    <!-- ApplicationCommands -->
    <CommandBinding Command="New" Executed="New_Executed"/>
    <CommandBinding Command="Open" Executed="Open_Executed"/>
    <CommandBinding Command="Save" Executed="Save_Executed"/>
    <CommandBinding Command="SaveAs" Executed="SaveAs_Executed"/>
    <!-- SCFF.GUI.Commands -->
    <CommandBinding Command="{x:Static local:Commands.SetAero}"
                    Executed="SetAero_Executed"
                    CanExecute="SetAero_CanExecute"/>
    <CommandBinding Command="{x:Static local:Commands.SetCompactView}"
                    Executed="SetCompactView_Executed"/>
    <!-- SCFF.GUI.UpdateCommands -->
    <!-- Profile -->
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateMainWindowByEntireProfile}"
                    Executed="UpdateMainWindowByEntireProfile_Executed" />
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateLayoutEditByEntireProfile}"
                    Executed="UpdateLayoutEditByEntireProfile_Executed" />
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateLayoutEditByCurrentProfile}"
                    Executed="UpdateLayoutEditByCurrentProfile_Executed" />
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateTargetWindowByCurrentProfile}"
                    Executed="UpdateTargetWindowByCurrentProfile_Executed" />
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateLayoutParameterByCurrentProfile}"
                    Executed="UpdateLayoutParameterByCurrentProfile_Executed" />
    <!-- Options -->
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateLayoutEditByOptions}"
                    Executed="UpdateLayoutEditByOptions_Executed" />
    <!-- RuntimeOptions -->
    <CommandBinding Command="{x:Static local:UpdateCommands.UpdateMainWindowByRuntimeOptions}"
                    Executed="UpdateMainWindowByRuntimeOptions_Executed" />
  </Window.CommandBindings>
  <shell:WindowChrome.WindowChrome>
    <shell:WindowChrome CaptionHeight="{x:Static SystemParameters.CaptionHeight}"
                        ResizeBorderThickness="8"
                        GlassFrameThickness="0"
                        CornerRadius="0"/>
  </shell:WindowChrome.WindowChrome>
  <Border BorderBrush="{DynamicResource SolidBorderBrush}" BorderThickness="1">
    <DockPanel LastChildFill="True" Margin="0,0,0,0">
      <!-- キャプションバー -->
      <Grid DockPanel.Dock="Top">
        <Grid.RowDefinitions>
          <RowDefinition Height="{x:Static SystemParameters.CaptionHeight}"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="20"/>
          <ColumnDefinition/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="8"/>
        </Grid.ColumnDefinitions>
        <Grid.Resources>
          <ResourceDictionary Source="Resources\CaptionButton.xaml"/>
        </Grid.Resources>
        <Rectangle  VerticalAlignment="Center" Width="10" Height="10" Margin="5,0"
                    Fill="#FF003B00" />
        <Label      Grid.Column="1"
                    VerticalAlignment="Center"                    
                    x:Name="WindowTitle" FontSize="10" Content="SCFF DirectShow Filter Ver.*.*.*" />
        <Button     Grid.Column="2"
                    Style="{DynamicResource CaptionButton}"
                    VerticalAlignment="Center" Height="12" 
                    FontSize="10" Content="0"
                    Command="{x:Static shell:SystemCommands.MinimizeWindowCommand}"/>
        <Button     Grid.Column="3"
                    Style="{DynamicResource CaptionButton}"
                    VerticalAlignment="Center" Height="12" 
                    FontSize="10" Content="1"
                    Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}"/>
        <Button     Grid.Column="4"
                    Style="{DynamicResource CaptionButton}"
                    VerticalAlignment="Center" Height="12" 
                    FontSize="10" Content="2"
                    Command="{x:Static shell:SystemCommands.RestoreWindowCommand}"/>
        <Button     Grid.Column="5"
                    Style="{DynamicResource CaptionButton}"
                    VerticalAlignment="Center" Height="12"
                    FontSize="10" Content="r"
                    Command="{x:Static shell:SystemCommands.CloseWindowCommand}"/>
      </Grid>
      <!-- メニューバー -->
      <localControls:MainMenu DockPanel.Dock="Top"
                              x:Name="MainMenu" />
      <!-- 各種設定 -->
      <StackPanel DockPanel.Dock="Left"
                  Width="250">
        <!-- プロセス -->
        <localControls:SCFFDSFEntries x:Name="SCFFEntries"/>
        <!-- 取り込みウィンドウ -->
        <GroupBox Header="Target Window">
          <localControls:TargetWindow x:Name="TargetWindow" />
        </GroupBox>
        <!-- 取り込み範囲 -->
        <Expander Header="Area"
                  x:Name="AreaExpander" IsExpanded="True">
          <localControls:Area x:Name="Area"/>
        </Expander>
        <!-- 取り込みオプション -->
        <Expander Header="Options"
                  x:Name="OptionsExpander" IsExpanded="True">
          <localControls:Options x:Name="Options"/>
        </Expander>
        <!-- 拡大縮小オプション -->
        <Expander Header="Resize Method"
                  x:Name="ResizeMethodExpander" IsExpanded="True">
          <localControls:ResizeMethod x:Name="ResizeMethod"/>
        </Expander>
        <!-- レイアウト番号 -->
        <localControls:LayoutTab x:Name="LayoutTab" />
        <!-- Apply -->
        <localControls:Apply x:Name="Apply" />
      </StackPanel>
      <!-- レイアウト表示 -->
      <Expander Header="Layout" ExpandDirection="Right"
                x:Name="LayoutExpander" IsExpanded="True">
        <DockPanel LastChildFill="True">
          <localControls:LayoutToolbar    DockPanel.Dock="Top"
                                          x:Name="LayoutToolbar"/>
          <localControls:LayoutParameter  DockPanel.Dock="Bottom"
                                          Width="350"
                                          x:Name="LayoutParameter"/>
          <Viewbox Stretch="Uniform">
            <localControls:LayoutEdit x:Name="LayoutEdit"/>
          </Viewbox>
        </DockPanel>
      </Expander>
    </DockPanel>
  </Border>
</Window>
