<Window x:Class="SCFF.GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="http://schemas.microsoft.com/winfx/2006/xaml/presentation/shell"
        xmlns:localControls="clr-namespace:SCFF.GUI.Controls"
        xmlns:local="clr-namespace:SCFF.GUI"
        Title="SCFF DirectShow Filter Ver.0.1.7"
        SnapsToDevicePixels="True"
        Background="{DynamicResource WindowBackgroundBrush}"
        Icon="Images/app.ico"
        ResizeMode="CanResizeWithGrip"
        Height="565" Width="772.437"
        MinHeight="280" MinWidth="280"
        Loaded="OnLoaded"
        Closing="OnClosing" >
  <Window.CommandBindings>
    <!-- shell:SystemCommands -->
    <CommandBinding Command="{x:Static shell:SystemCommands.CloseWindowCommand}"
                    Executed="CloseWindow_Executed"/>
    <CommandBinding Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}"
                    Executed="MaximizeWindow_Executed"/>
    <CommandBinding Command="{x:Static shell:SystemCommands.MinimizeWindowCommand}"
                    Executed="MinimizeWindow_Executed"/>
    <CommandBinding Command="{x:Static shell:SystemCommands.RestoreWindowCommand}"
                    Executed="RestoreWindow_Executed"/>
    <!-- ApplicationCommands -->
    <CommandBinding Command="New" Executed="New_Executed"/>
    <CommandBinding Command="Open" Executed="Open_Executed"/>
    <CommandBinding Command="Save" Executed="Save_Executed"/>
    <CommandBinding Command="SaveAs" Executed="SaveAs_Executed"/>
    <!-- SCFF.GUI.Commands -->
    <CommandBinding Command="{x:Static local:Commands.AddLayoutElementCommand}"
                    Executed="AddLayoutElement_Executed"
                    CanExecute="AddLayoutElement_CanExecute"/>
    <CommandBinding Command="{x:Static local:Commands.RemoveLayoutElementCommand}"
                    Executed="RemoveLayoutElement_Executed"
                    CanExecute="RemoveLayoutElement_CanExecute"/>
    <CommandBinding Command="{x:Static local:Commands.ChangeCurrentLayoutElementCommand}"
                    Executed="ChangeCurrentLayoutElement_Executed" />
    <CommandBinding Command="{x:Static local:Commands.ChangeTargetWindowCommand}"
                    Executed="ChangeTargetWindow_Executed" />
    <CommandBinding Command="{x:Static local:Commands.ChangeLayoutParameterCommand}"
                    Executed="ChangeLayoutParameter_Executed" />
  </Window.CommandBindings>
  <shell:WindowChrome.WindowChrome>
    <shell:WindowChrome CaptionHeight="{x:Static SystemParameters.CaptionHeight}"
                        ResizeBorderThickness="8"
                        GlassFrameThickness="0"
                        CornerRadius="0"/>
  </shell:WindowChrome.WindowChrome>
  <Border BorderBrush="{DynamicResource SolidBorderBrush}" BorderThickness="1">
    <DockPanel LastChildFill="True" Margin="0,0,0,0">
      <!-- キャプションバー -->
      <Grid DockPanel.Dock="Top">
        <Grid.RowDefinitions>
          <RowDefinition Height="{x:Static SystemParameters.CaptionHeight}"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="20"/>
          <ColumnDefinition/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="17"/>
          <ColumnDefinition Width="8"/>
        </Grid.ColumnDefinitions>
        <Grid.Resources>
          <ResourceDictionary Source="Resources\CaptionButton.xaml"/>
        </Grid.Resources>
        <Rectangle Width="10" Height="10" Fill="#FF003B00" Margin="5,0" VerticalAlignment="Center"/>
        <Label x:Name="WindowTitle" Grid.Column="1" FontSize="10" Content="SCFF DirectShow Filter Ver.0.1.7" VerticalAlignment="Center"/>
        <Button Grid.Column="2" Height="12" VerticalAlignment="Center" Style="{DynamicResource CaptionButton}"
                Command="{x:Static shell:SystemCommands.MinimizeWindowCommand}">0</Button>
        <Button Grid.Column="3" Height="12" VerticalAlignment="Center" Style="{DynamicResource CaptionButton}"
                Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}">1</Button>
        <Button Grid.Column="4" Height="12" VerticalAlignment="Center" Style="{DynamicResource CaptionButton}"
                Command="{x:Static shell:SystemCommands.RestoreWindowCommand}">2</Button>
        <Button Grid.Column="5" Height="12" VerticalAlignment="Center" Style="{DynamicResource CaptionButton}"
                Command="{x:Static shell:SystemCommands.CloseWindowCommand}">r</Button>
      </Grid>
      <!-- メニューバー -->
      <Menu DockPanel.Dock="Top" FontSize="9">
        <MenuItem Header="File(_F)">
          <MenuItem Header="New profile(_N)" Command="New"/>
          <MenuItem Header="Open profile(_O)..." Command="Open"/>
          <Separator/>
          <MenuItem Header="Save profile(_S)" Command="Save"/>
          <MenuItem Header="Save profile as(_a)..." Command="SaveAs"/>
          <Separator/>
          <MenuItem Header="Start FFmpeg(_F)..." IsEnabled="False"/>
          <MenuItem Header="Stop FFmpeg(_f)" IsEnabled="False"/>
          <Separator/>
          <MenuItem x:Name="RecentProfile1" Header="1 (_1)" IsEnabled="False"/>
          <MenuItem x:Name="RecentProfile2" Header="2 (_2)" IsEnabled="False"/>
          <MenuItem x:Name="RecentProfile3" Header="3 (_3)" IsEnabled="False"/>
          <MenuItem x:Name="RecentProfile4" Header="4 (_4)" IsEnabled="False"/>
          <MenuItem x:Name="RecentProfile5" Header="5 (_5)" IsEnabled="False"/>
          <Separator/>
          <MenuItem Header="Exit(_X)" Command="{x:Static shell:SystemCommands.CloseWindowCommand}"/>
        </MenuItem>
        <MenuItem Header="Options(_O)">
          <MenuItem x:Name="CompactView" Header="Compact View(_C)" IsCheckable="True"
                    Checked="compactView_Checked" Unchecked="compactView_Unchecked" />
          <Separator/>
          <MenuItem x:Name="ForceAeroOn" Header="Force Aero ON(_A)" IsCheckable="True"
                    Click="forceAeroOn_Click"/>
          <MenuItem x:Name="RestoreLastProfile" Header="Restore last profile(_R)" IsCheckable="True" />
        </MenuItem>
      </Menu>
      <!-- 各種設定 -->
      <StackPanel Width="250" DockPanel.Dock="Left">
        <!-- プロセス -->
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="55"/>
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition Height="25"/>
          </Grid.RowDefinitions>
          <ComboBox x:Name="Processes" FontSize="9" Height="20" VerticalAlignment="Center" Margin="5,0" IsEnabled="False">
            <ComboBoxItem>Process1</ComboBoxItem>
            <ComboBoxItem>Process2</ComboBoxItem>
            <ComboBoxItem>Process3</ComboBoxItem>
          </ComboBox>
          <Button Margin="0,0,5,0" FontSize="9" Grid.Column="1" VerticalAlignment="Center" Content="Refresh" Height="20"/>
        </Grid>
        <!-- 取り込みウィンドウ -->
        <GroupBox FontSize="9" Header="Target Window">
          <localControls:TargetWindow x:Name="TargetWindow" />
        </GroupBox>
        <!-- 取り込み範囲 -->
        <Expander x:Name="AreaExpander" FontSize="9" Header="Area" IsExpanded="True">
          <localControls:Area x:Name="Area"/>
        </Expander>
        <!-- 取り込みオプション -->
        <Expander x:Name="OptionsExpander" FontSize="9" Header="Options" IsExpanded="True">
          <localControls:Options x:Name="Options"/>
        </Expander>
        <!-- 拡大縮小オプション -->
        <Expander x:Name="ResizeMethodExpander" FontSize="9" Header="Resize Method" IsExpanded="True">
          <localControls:ResizeMethod x:Name="ResizeMethod"/>
        </Expander>
        <!-- レイアウト番号 -->
        <localControls:LayoutTab x:Name="LayoutTab" />
        <!-- Apply -->
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition/>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="1*"/>
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
          </Grid.RowDefinitions>
          <Button Margin="5,0" Height="20" VerticalAlignment="Center" FontSize="10">Splash</Button>
          <CheckBox x:Name="AutoApply" Grid.Column="2" Margin="5,0" Height="16" VerticalAlignment="Center" HorizontalAlignment="Right" FontSize="9" Click="autoApply_Click">Auto</CheckBox>
          <Button Margin="5,0" Grid.Column="3" Height="20" VerticalAlignment="Center"  FontSize="10">Apply</Button>
        </Grid>
      </StackPanel>
      <!-- レイアウト表示 -->
      <Expander x:Name="LayoutExpander" FontSize="9" ExpandDirection="Right" Header="Layout" IsExpanded="True">
        <DockPanel LastChildFill="True">
          <ToolBarTray DockPanel.Dock="Top" Background="{x:Null}" IsLocked="True" HorizontalAlignment="Center">
            <ToolBar Header="Layout " Height="25">
              <Button Command="{x:Static local:Commands.AddLayoutElementCommand}" Margin="3,0,0,0">Add</Button>
              <Button Command="{x:Static local:Commands.RemoveLayoutElementCommand}" Margin="3,0,0,0">Remove</Button>
              <Separator/>
              <CheckBox x:Name="LayoutPreview" Margin="3,0,0,0" Click="layoutPreview_Click">Preview</CheckBox>
              <CheckBox x:Name="LayoutBorder" Margin="3,0,0,0" Click="layoutBorder_Click">Border</CheckBox>
              <CheckBox x:Name="LayoutSnap" Margin="3,0,8,0" Click="layoutSnap_Click">Snap</CheckBox>
            </ToolBar>
          </ToolBarTray>
          <localControls:LayoutParameter x:Name="LayoutParameter"  DockPanel.Dock="Bottom" Width="350" />
          <Viewbox Stretch="Uniform">
            <localControls:LayoutEdit x:Name="LayoutEdit"/>
          </Viewbox>
        </DockPanel>
      </Expander>
    </DockPanel>
  </Border>
</Window>
